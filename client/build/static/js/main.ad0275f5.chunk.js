(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{111:function(e,t,r){"use strict";r.r(t);var n=r(0),a=r(9),o=r.n(a),c=(r(80),r(142)),s=r(30),i=r(12),l=r(16),u=r(29),d=r(62),j=r(63),p="USER_LOGIN_REQUEST",b="USER_LOGIN_SUCCESS",h="USER_LOGIN_FAIL",g="USER_LOGOUT_SUCCESS",f="USER_REGISTER_REQUEST",m="USER_REGISTER_SUCCESS",O="USER_REGISTER_FAIL",y="USER_REGISTER_RESET",x="USER_DELETE_REQUEST",v="USER_DELETE_SUCCESS",E="USER_DELETE_FAIL",S=Object(u.combineReducers)({userLogin:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{userInfo:{}},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case p:return{loading:!0};case b:return{loading:!1,userInfo:t.payload};case h:return{loading:!1,error:t.payload};case g:return{};default:return e}},userRegister:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{registeredUser:{}},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case f:return{loading:!0};case m:return{loading:!1,success:!0,registeredUser:t.payload};case O:return{loading:!1,error:t.payload};case y:return{};default:return e}},deleteUser:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case x:return{loading:!0};case v:return{loading:!1,success:!0};case E:return{loading:!1,error:t.payload};default:return e}}}),R={userLogin:{userInfo:localStorage.getItem("userInfo")?JSON.parse(localStorage.getItem("userInfo")):null}},w=[d.a],I=Object(u.createStore)(S,R,Object(j.composeWithDevTools)(u.applyMiddleware.apply(void 0,w))),U=r(24),_=r(137),L=r(145),C=r(140),T=r(143),A=r(146),k=r(141),D=r(25),W=r.n(D),G=r(37),N=r(42),P=r.n(N),q=function(){return function(){var e=Object(G.a)(W.a.mark((function e(t){return W.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t({type:g}),localStorage.removeItem("userInfo");case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},B=r(4),J=function(e){var t=e.history,r=Object(n.useState)(""),a=Object(U.a)(r,2),o=a[0],c=a[1],i=Object(n.useState)(""),u=Object(U.a)(i,2),d=u[0],j=u[1],g=Object(l.b)(),f=Object(l.c)((function(e){return e.userLogin})),m=f.loading,O=f.userInfo,y=f.error;Object(n.useEffect)((function(){O?t.push("/"):t.push("/login")}),[O,t]);return Object(B.jsx)(_.a,{container:!0,justify:"center",children:Object(B.jsx)(_.a,{item:!0,lg:5,md:7,xs:12,children:Object(B.jsxs)(L.a,{display:"flex",mt:4,flexDirection:"column",style:{textAlign:"center"},children:[Object(B.jsx)(C.a,{variant:"h2",color:"secondary",children:"Auth App"}),Object(B.jsx)(C.a,{children:"Enter your credientials to Login"}),Object(B.jsxs)(L.a,{component:"form",mt:2,onSubmit:function(e){var t;e.preventDefault(),g((t={email:o,password:d},function(){var e=Object(G.a)(W.a.mark((function e(r,n){var a,o,c;return W.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,r({type:p}),a={headers:{"Content-Type":"application/json"}},e.next=5,P.a.post("/api/users/login",t,a);case 5:o=e.sent,c=o.data,r({type:b,payload:c}),localStorage.setItem("userInfo",JSON.stringify(c)),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(0),r({type:h,payload:e.t0.response&&e.t0.response.data.message?e.t0.response.data.message:e.t0.message});case 14:case"end":return e.stop()}}),e,null,[[0,11]])})));return function(t,r){return e.apply(this,arguments)}}()))},children:[y&&Object(B.jsx)(C.a,{color:"error",children:y}),Object(B.jsx)(T.a,{variant:"outlined",label:"Email",placeholder:"Enter Email..",color:"secondary",type:"email",margin:"normal",value:o,onChange:function(e){return c(e.target.value)},disabled:m,required:!0,fullWidth:!0}),Object(B.jsx)(T.a,{variant:"outlined",label:"Password",placeholder:"Enter Password..",color:"secondary",type:"password",margin:"normal",value:d,onChange:function(e){return j(e.target.value)},disabled:m,required:!0,fullWidth:!0}),Object(B.jsxs)(A.a,{variant:"contained",color:"secondary",fullWidth:!0,type:"submit",style:{marginTop:16,marginBottom:10},disabled:m,children:[m&&Object(B.jsx)(k.a,{size:22,color:"inherit"}),"\xa0\xa0","Login"]}),Object(B.jsxs)(C.a,{children:["Not yet registered?"," ",Object(B.jsx)(s.b,{style:{textDecoration:"none"},to:"/register",children:"Register"})]})]})]})})})},z=function(e){var t=e.history,r=Object(l.b)(),a=Object(n.useState)(""),o=Object(U.a)(a,2),c=o[0],i=o[1],u=Object(n.useState)(""),d=Object(U.a)(u,2),j=d[0],p=d[1],b=Object(n.useState)(""),h=Object(U.a)(b,2),g=h[0],y=h[1],x=Object(n.useState)(""),v=Object(U.a)(x,2),E=v[0],S=v[1],R=Object(n.useState)(null),w=Object(U.a)(R,2),I=w[0],D=w[1],N=Object(l.c)((function(e){return e.userLogin})).userInfo,q=Object(l.c)((function(e){return e.userRegister})),J=q.loading,z=q.success,F=(q.registeredUser,q.error);Object(n.useEffect)((function(){N&&t.push("/")}),[N,t]);return Object(B.jsx)(_.a,{container:!0,justify:"center",children:Object(B.jsx)(_.a,{item:!0,lg:5,md:7,xs:12,children:Object(B.jsxs)(L.a,{display:"flex",mt:4,flexDirection:"column",style:{textAlign:"center"},children:[Object(B.jsx)(C.a,{variant:"h2",color:"secondary",children:"Auth App"}),Object(B.jsx)(C.a,{children:"Enter your credientials to Register"}),I&&Object(B.jsx)(C.a,{color:"error",children:I}),F&&Object(B.jsx)(C.a,{color:"error",children:F}),z&&Object(B.jsxs)(C.a,{color:"primary",children:["Account Created Successfully ",Object(B.jsx)(s.b,{to:"/login",style:{color:"green"},children:"Login"})]}),Object(B.jsxs)(L.a,{component:"form",mt:2,onSubmit:function(e){var t;e.preventDefault(),g!==E?D("Password do not match !"):(r((t={name:c,email:j,password:g},function(){var e=Object(G.a)(W.a.mark((function e(r){var n,a;return W.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,r({type:f}),e.next=4,P.a.post("/api/users/register",t);case 4:n=e.sent,a=n.data,r({type:m,payload:a}),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),r({type:O,payload:e.t0.response&&e.t0.response.data.message?e.t0.response.data.message:e.t0.message});case 12:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(t){return e.apply(this,arguments)}}())),i(""),p(""),y(""),S(""))},children:[Object(B.jsx)(T.a,{variant:"outlined",label:"Name",placeholder:"Enter Name..",color:"secondary",type:"text",margin:"normal",value:c,onChange:function(e){return i(e.target.value)},required:!0,fullWidth:!0,disabled:J}),Object(B.jsx)(T.a,{variant:"outlined",label:"Email",placeholder:"Enter Email..",color:"secondary",type:"email",margin:"normal",value:j,onChange:function(e){return p(e.target.value)},required:!0,fullWidth:!0,disabled:J}),Object(B.jsx)(T.a,{variant:"outlined",label:"Password",placeholder:"Enter Password..",color:"secondary",type:"password",margin:"normal",value:g,onChange:function(e){return y(e.target.value)},required:!0,fullWidth:!0,disabled:J}),Object(B.jsx)(T.a,{variant:"outlined",label:"Confirm Password",placeholder:"Enter Confirm Password..",color:"secondary",type:"password",margin:"normal",value:E,onChange:function(e){return S(e.target.value)},required:!0,fullWidth:!0,disabled:J}),Object(B.jsxs)(A.a,{variant:"contained",color:"secondary",fullWidth:!0,style:{marginTop:16,marginBottom:10},type:"submit",disabled:J,children:[J&&Object(B.jsx)(k.a,{size:20,color:"inherit"}),"\xa0\xa0","Register"]}),Object(B.jsxs)(C.a,{children:["Already registered?"," ",Object(B.jsx)(s.b,{style:{textDecoration:"none"},to:"/login",children:"Login"})]})]})]})})})},F=function(e){var t=e.history,r=Object(l.b)(),a=Object(l.c)((function(e){return e.userLogin})).userInfo,o=Object(l.c)((function(e){return e.deleteUser}));o.loading,o.succes,o.error;Object(n.useEffect)((function(){a&&a.name||t.push("/login")}),[a,t]);return Object(B.jsxs)(L.a,{mt:5,display:"flex",flexDirection:"column",children:[Object(B.jsx)(C.a,{variant:"h4",color:"secondary",style:{marginBottom:20},children:a&&"Wecome to Auth App, ".concat(a.name)}),Object(B.jsx)(C.a,{style:{marginBottom:20},children:"Thank you for registering with us."}),Object(B.jsxs)(_.a,{container:!0,children:[Object(B.jsx)(_.a,{item:!0,md:4,xs:12}),Object(B.jsxs)(_.a,{item:!0,xs:12,component:L.a,display:"flex",flexDirection:"row",children:[Object(B.jsx)(A.a,{variant:"contained",style:{marginRight:8},color:"secondary",onClick:function(){t.push("/login"),r(q())},children:"Logout"}),Object(B.jsx)(A.a,{variant:"contained",color:"secondary",onClick:function(){t.push("/login"),r(function(){var e=Object(G.a)(W.a.mark((function e(t,r){var n,a,o;return W.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t({type:x}),n=r(),a=n.userLogin.userInfo,o={headers:{Authorization:"Bearer ".concat(a.token)}},e.next=6,P.a.delete("/api/users/delete",o);case 6:t({type:v}),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),t({type:E,payload:e.t0.response&&e.t0.response.data.message?e.t0.response.data.message:e.t0.message});case 12:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(t,r){return e.apply(this,arguments)}}()),r(q())},children:"Delete Account"})]})]})]})};var Q=function(){return Object(B.jsx)(l.a,{store:I,children:Object(B.jsx)(s.a,{children:Object(B.jsx)(c.a,{maxWidth:"md",children:Object(B.jsxs)(i.c,{children:[Object(B.jsx)(i.a,{path:"/register",component:z}),Object(B.jsx)(i.a,{path:"/login",component:J}),Object(B.jsx)(i.a,{path:"/",component:F,exact:!0})]})})})})};o.a.render(Object(B.jsx)(Q,{}),document.getElementById("root"))},80:function(e,t,r){}},[[111,1,2]]]);
//# sourceMappingURL=main.ad0275f5.chunk.js.map